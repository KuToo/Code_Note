#### 协议
- 定义：一组规则，要求使用协议的双方必须严格遵守协议内容
- 常见协议：TCP/UDP,HTTP,IP,FTP,ARP,RARP
- 网络分层模型：
    1.OSI七层模型：物，数，网，传，会，表，应
    2.TCP/IP四层模型：链->Mac地址，网->IP，传->PORT，应
- 各层功能：
    1.链路层：源mac地址-->目标mac地址；ARP协议：IP->mac地址
    2.网络层：源IP地址-->目标IP，在网络中唯一标识一台主机
        - IP地址的本质是二进制数。---点分十进制
    3.传输层：TCP/UDP，封装端口，在一台主机上唯一标识一个进程
    4.应用层：FTP/HTTP...,对数据进行封装，在对端进行解封装
- 数据通信过程
    1.封装过程：应用层-->网络层-->传输层-->链路层
    2.解封装过程：链路层-->传输层-->网络层-->应用层

#### Socket编程
- 在通信过程中，socket一定是成对出现的
- socket定义：套接字
    双向半双工：对讲机
    双向全双工：电话，socket
    单工：遥控器

#### 网络应用程序设计模式
- C/S模式：Client/Server(客户端/服务器) 
- B/S模式：Browser/Server(浏览器端/服务器)
- 两种对比：
    1.C/S优点：数据传输效率高，协议选择灵活，
    2.C/S缺点：工作量大，安全构成威胁
    3.开发工作量较小，不受平台限制，安全威胁小
    4.缓存数据差，协议选择不灵活
- TCP的C/S服务器（Server）
    1.创建监听socket：```listener:=net.Listen("TCP","IP:port")```--->服务器自己的IPhe port
    2.启动监听: ```conn :=listener.Accept()```--->coon用于通信的socket
    3.```coon.Read()```
    4.处理使用数据
    5.```coon.Write()```
    6.关闭listener和conn
- TCP的C/S客户端（Client）
    1.conn,err :=net.Dail("TCP",服务器的IP+port)
    2.写数据给服务器：conn.Write()
    3.读取服务器回发的数据：conn.Read()
    4.关闭连接：conn.Close()
- TCP-CS并发服务器
    1.创建监听套接字listener:=net.Listen("tcp",服务器+port)
    2.defer listener.Close()
    3.for循环 阻塞监听 客服端连接事件：conn:=listener.Accept()
    4.创建go程对应每一个客户端运行数据通信 go coonectHandler()
    5.实现connectHandler(conn net.Conn)
        - defer conn.Close()
        - 获取成功连接的客户端Addr:conn.RemoteAddr()
        - for循环读物客服端发送的数据:conn.Read(buf)
        - 处理数据 瞎写=>大写 strings.ToUpper()
        - 回写转化后的数据：conn.Write(buf[:n])
- 服务器判断客户端关闭
    1.Read读客户端，返回n==0,即为对端关闭
    2.nc命令发送数据时，默认在结尾自带一个换行符\n
- TCP通信过程
    1.三次握手：
        - 主动发起请求段，发送SYN
        - 被动简历链接请求段，应答ACK,同时发送SYN
        - 主动发起请求段，发送应答ACK
        - 标识TCP三次握手简历我那成。server:Accept()返回，client：Dial()返回
    2.四次挥手
        - 主动关闭链接请求端，发送FIN
        - 被动关闭链接请求端，应答ACK  ==>标志半关闭完成。---close()
        - 被动关闭链接请求端，发送FIN
        - 主动关闭链接请求端，应答ACK  ==>四次挥手建立完成。---close()
- UDP服务器
    1.创建server端的通信地址结构(ip+port):net.ResolveUDPAddr()
    2.创建用于通信的socket,绑定地址结构:udp_conn=net.listenUDP()
    3.defer udp_conn.Close()
    4.处理读到的数据:ReadFromUDP()，返回n,cli_addr(客户端ip+port),err
    5.写数据给客户端:WriteToUDP(数据，cli_addr)
- UDP客户端
    1.conn,err :=net.Dail("udp",服务器的IP+port)
    2.写数据给服务器：conn.Write()
    3.读取服务器回发的数据：conn.Read()
    4.关闭连接：conn.Close()
- UDP并发服务器
- TCP通信和UDP通信的差别：
    1.TCP是面向连接的，可靠的数据包传输；UDP是面向无连接，不可靠的报文传递